<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>EgySL Toponym Map — Final with Multi-line Info</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
  #map { height:100vh; }
  .controls {
    position:absolute; top:10px; left:10px; z-index:1000; background:white;
    padding:12px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.18); width:300px;
  }
  .controls h4 { margin:0 0 8px 0; font-size:14px; }
  .radio-list { max-height:220px; overflow-y:auto; padding-right:6px; margin-top:6px; }
  .radio-item { display:flex; align-items:center; margin-bottom:6px; gap:8px; }
  .radio-item input { transform:scale(1.05); }
  #legendWrap { position:absolute; left:10px; bottom:10px; z-index:1000; width:340px; }
  #infoPanel {
    background: rgba(255,255,255,0.98); padding:10px; border-radius:8px;
    box-shadow:0 2px 8px rgba(0,0,0,0.18); font-size:13px; margin-bottom:8px;
  }
  #legend { background: rgba(255,255,255,0.98); padding:10px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.18); font-size:13px; max-height:280px; overflow-y:auto; }
  .legend-entry { display:flex; align-items:center; margin-bottom:6px; }
  .legend-entry span { width:16px; height:16px; border-radius:50%; display:inline-block; margin-right:8px; border:1px solid rgba(0,0,0,0.08); }
  .popup-scroll { max-height:420px; overflow-y:auto; padding-right:8px; }
  .sign-entry { border-bottom:1px solid #ddd; padding:10px 0; margin-bottom:10px; }
  iframe { width:100%; height:220px; border-radius:6px; }
  .small-btn { background:#eee; border:none; padding:6px 8px; border-radius:6px; cursor:pointer; }
  .info-mode-select { margin-bottom:8px; width:100%; }
  .info-edit { min-height:72px; max-height:240px; padding:8px; border-radius:6px; background:#fafafa; border:1px dashed #ddd; outline:none; overflow:auto; white-space:pre-wrap; }
  .info-controls { display:flex; justify-content:space-between; gap:8px; margin-bottom:8px; align-items:center; }
  .muted { color:#666; font-size:12px; }
</style>
</head>
<body>

<div id="map"></div>

<div class="controls" aria-label="Color by controls">
  <h4>Color by</h4>
  <div class="radio-list" id="radioList" role="radiogroup" aria-label="Color by options">
    <!-- radio buttons will be inserted here -->
  </div>
  <div style="margin-top:8px; display:flex; justify-content:space-between; align-items:center;">
    <button id="fitBtn" class="small-btn">Fit to markers</button>
    <span class="muted">Markers & legend update instantly</span>
  </div>
</div>

<div id="legendWrap" style="left:10px; bottom:10px;">
  <div id="infoPanel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <strong id="infoTitle">Category Info — Semantic Major</strong>
      <div>
        <button id="toggleInfo" class="small-btn">Hide info</button>
      </div>
    </div>

    <div class="info-controls" style="margin-top:8px;">
      <select id="infoModeSelect" class="info-mode-select" title="Select mode to edit info"></select>
      <button id="resetInfo" class="small-btn" title="Reset placeholder text">Reset</button>
    </div>

    <div id="infoEditArea" class="info-edit" contenteditable="true" aria-label="Edit info text">
      <!-- filled by script -->
    </div>

    <div style="margin-top:6px" class="muted">Edit the multi-line descriptions. Click <strong>Hide info</strong> to collapse.</div>
  </div>

  <div id="legend" aria-live="polite" style="margin-top:8px;">
    <!-- legend filled by script -->
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
/* ===========================
   PASTE YOUR JSON DATA (Option 1: flat array)
   Example: array of variant objects with keys (case/spacing-sensitive):
     English, Latittude, Longitude, Link, Gloss, Folk Etymology,
     Morphological Type, Semantic Type (Major), Semantic Type (Specific),
     Related to a fingerspelling, Phonological Type, Body-Indexical,
     Food-related, Handshape Iconicity, Movement Iconicity, Plurality, Notes
=========================== */
const data = [
    {
        "Link": "https://www.youtube.com/watch?v=Kp15tpyP21s",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "EGYPT",
        "Folk Etymology": "the Pyramids of Giza",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Descriptive, Associative",
        "Semantic Type (Specific)": "Relational, Structure",
        "Notes": "Generally used to refer to entire country, but used to refer to the capital if outside of Cairo",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as shape",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=Cp2NSp01EF4",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "EGYPT CAPITAL",
        "Folk Etymology": "the Pyramids of Giza + Cairo is the capital",
        "Morphological Type": "compound",
        "Semantic Type (Major)": "Descriptive, Associative",
        "Semantic Type (Specific)": "Functional, Structure",
        "Notes": "The second part of this compound can mean CAPITAL but also sometimes CITY or more vaguely PLACE",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical + asymmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as shape + none",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=ZsVVTFTsMGE",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "PHARAONIC_CROWN",
        "Folk Etymology": "part of the pharaoh's crown",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "Considered an older sign also meaning EGYPT",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "N/A",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=SeyU0xxVh8c",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "ALHUSSEIN",
        "Folk Etymology": "unclear",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "also the name of Al-Hussein Mosque and surrounding area",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=I-gosqC8yPs",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "DOME",
        "Folk Etymology": "the dome shaped architecture of Cairo University, or generally because of the many other dome-shaped mosques and churches",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "Generally the most used specific sign for Cairo as a city and governorate, without the sense of Egypt as a whole. Phonological variants include using a flat, palm-up base hand or deleting the non-dominant hand.",
        "Related to a fingerspelling": "no",
        "Phonological Type": "asymmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "indexical",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=GJf9Dp63Z68",
        "English": "Cairo",
        "Arabic": "\u0627\u0644\u0642\u0627\u0647\u0631\u0629",
        "Latittude": "30.0444",
        "Longitude": "31.2357",
        "Gloss": "MASHALLAH?",
        "Folk Etymology": "unclear",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "Considered an older sign, etymology unclear: perhaps related to the sign MASHALLAH, perhaps to the architecture of ALAZHAR",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=OBlDuMSG7IA",
        "English": "Alexandria",
        "Arabic": "\u0627\u0644\u0627\u0633\u0643\u0646\u0631\u064a\u0629",
        "Latittude": "31.2001",
        "Longitude": "29.9187",
        "Gloss": "SALTY_TASTE",
        "Folk Etymology": "from the taste of salt in the air",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Environment",
        "Notes": "Most common sign used by Alexandrians",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Indexical",
        "Movement Iconicity": "?",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=bHPtmy-pcos",
        "English": "Alexandria",
        "Arabic": "\u0627\u0644\u0627\u0633\u0643\u0646\u0631\u064a\u0629",
        "Latittude": "31.2001",
        "Longitude": "29.9187",
        "Gloss": "SEA",
        "Folk Etymology": "Alexandria is known for being on the sea and is a common vacation destination, particularly in the summer for people from Cairo and elsewhere",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Enviroment",
        "Notes": "Generally only used by people not from Alexandria",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "ambiguous (movement as shape and/or movement)",
        "Plurality": "movement"
    },
    {
        "Link": "https://www.youtube.com/watch?v=AJxiv82x87I",
        "English": "Giza",
        "Arabic": "\u0627\u0644\u062c\u064a\u0632\u0629",
        "Latittude": "29.9773",
        "Longitude": "31.1325",
        "Gloss": "SPHYNX",
        "Folk Etymology": "The (missing) nose of the Sphynx",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as shape",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=LhKzqVqx0ws",
        "English": "Daqhalia (Mansoura)",
        "Arabic": "\u062f\u0642\u0647\u0644\u064a\u0629 (\u0645\u0646\u0635\u0648\u0631\u0629)",
        "Latittude": "31.0379",
        "Longitude": "31.3807",
        "Gloss": "SICKLE",
        "Folk Etymology": "A rural area known for farming using a sickle",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "Can stand for the whole governorate or just the capital city of Mansoura",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "none",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=-QjhhdU2vhE",
        "English": "Beheira (Damanhour)",
        "Arabic": "\u0628\u062d\u064a\u0631\u0629 (\u062f\u0645\u0646\u0647\u0648\u0631)",
        "Latittude": "31.0341",
        "Longitude": "30.4682",
        "Gloss": "DAMANHOUR",
        "Folk Etymology": "unclear, perhaps related to irrigation",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "Can stand for the whole governorate or just the capital city of Damanhour",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=bH2gnGVKTuM",
        "English": "Al-Sharqia (Zaqaziq)",
        "Arabic": "\u0627\u0644\u0634\u0631\u0642\u064a\u0629 (\u0632\u0642\u0627\u0632\u064a\u0642)",
        "Latittude": "30.5877",
        "Longitude": "31.502",
        "Gloss": "SHARQIA",
        "Folk Etymology": "related to the many livestock: a plural animal classifier",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "Can stand for the whole governorate or just the capital city of Zaqaziq",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as movement",
        "Plurality": "selected fingers + hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=I6aVUsawr4o",
        "English": "Qalyubia (Banha)",
        "Arabic": "\u0642\u0644\u064a\u0648\u0628\u064a\u0629 (\u0628\u0646\u0647\u0627)",
        "Latittude": "30.4598",
        "Longitude": "31.1844",
        "Gloss": "BANHA",
        "Folk Etymology": "a reduction of the full fingerspelling of Banha (baa, alif, nuun, haa)",
        "Morphological Type": "hybrid",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "Considered an old sign, so reduced the letters are not distinguishable",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=LAaj781jaFk",
        "English": "Qalyubia (Banha)",
        "Arabic": "\u0642\u0644\u064a\u0648\u0628\u064a\u0629 (\u0628\u0646\u0647\u0627)",
        "Latittude": "30.4598",
        "Longitude": "31.1844",
        "Gloss": "BANHA (fs: B H A N)",
        "Folk Etymology": "a reduction of the full fingerspelling by postposing the nuun to the end of the sign",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "One of several variants using the older manual alphabet",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=fivJoT3M1t0",
        "English": "Qalyubia (Banha)",
        "Arabic": "\u0642\u0644\u064a\u0648\u0628\u064a\u0629 (\u0628\u0646\u0647\u0627)",
        "Latittude": "30.4598",
        "Longitude": "31.1844",
        "Gloss": "BANHA (fs: B/H N)",
        "Folk Etymology": "a reduction of the full fingerspelling by assimilating the handshape of the H into the B and postposing the N",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "One of several variants using the older manual alphabet",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=47kYXiVZTr8",
        "English": "Qalyubia (Banha)",
        "Arabic": "\u0642\u0644\u064a\u0648\u0628\u064a\u0629 (\u0628\u0646\u0647\u0627)",
        "Latittude": "30.4598",
        "Longitude": "31.1844",
        "Gloss": "BANHA (fs: H A N)",
        "Folk Etymology": "a reduction of the full fingerspelling by deleting the initial B",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "One of several variants using the older manual alphabet",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=5ic85VYnqPg",
        "English": "Manoufia (Shabin El-Kom)",
        "Arabic": "\u0627\u0644\u0645\u0646\u0648\u0641\u064a\u0629",
        "Latittude": "30.5972",
        "Longitude": "30.9876",
        "Gloss": "ANWAR_ALSADAT",
        "Folk Etymology": "also the name sign for former president Anwar El-Sadat, who had a prayer callus on his forehead",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Eponymous",
        "Semantic Type (Specific)": "Notable Person",
        "Notes": "Most common sign, at least outside of Menoufia",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Indexical",
        "Movement Iconicity": "movement as shape",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=fWHSejGosxg",
        "English": "Manoufia (Shabin El-Kom)",
        "Arabic": "\u0627\u0644\u0645\u0646\u0648\u0641\u064a\u0629",
        "Latittude": "30.5972",
        "Longitude": "30.9876",
        "Gloss": "SHABIN_ELKOM",
        "Folk Etymology": "unclear",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "An older sign that may still be in use among the community of Shabin El-Kom, the capital",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=LnHNUA3hFP4",
        "English": "Gharbia (Tanta)",
        "Arabic": "\u0627\u0644\u063a\u0631\u0628\u064a\u0629 (\u0637\u0646\u0637\u0627)",
        "Latittude": "30.7865",
        "Longitude": "31.0004",
        "Gloss": "TANTA",
        "Folk Etymology": "the way people clap during rituals performed at the local Mawlid",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Occurrent",
        "Semantic Type (Specific)": "Occasion",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Hands as Hands",
        "Movement Iconicity": "movement as movement",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=4CFh-T2VGQo",
        "English": "Marsa Matrouh",
        "Arabic": "\u0645\u0631\u0633\u0649 \u0645\u0637\u0631\u0648\u062d",
        "Latittude": "31.3543",
        "Longitude": "27.2373",
        "Gloss": "NOSE_RING^CLAP",
        "Folk Etymology": "women traditionally wear gold nose rings, the local bedouin groups clap in this particular way in their music tradition",
        "Morphological Type": "compound",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed + symmetrical",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object + Hands as Hands",
        "Movement Iconicity": "N/A + movement as movement",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=MNT60zmPWLM",
        "English": "Kafr El-Sheikh",
        "Arabic": "\u0643\u0641\u0631 \u0627\u0644\u0634\u064a\u062e",
        "Latittude": "31.1117",
        "Longitude": "30.9394",
        "Gloss": "KOFEYYA",
        "Folk Etymology": "the tradtional Koffeyya headwrapping",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative, Copied",
        "Semantic Type (Specific)": "Occupation/Activity, Linguistic",
        "Notes": "Has a phonological variant with just the index finger as well. Some variants fully circle the head. Could also be considered a calque since some signers use this sign to mean SHEIKH",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Handling",
        "Movement Iconicity": "ambiguous (movement as shape and/or movement)",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=Rm3_kVijYbI",
        "English": "Damietta",
        "Arabic": "\u062f\u0645\u064a\u0627\u0637",
        "Latittude": "31.4165",
        "Longitude": "31.8133",
        "Gloss": "MOSHABBEK",
        "Folk Etymology": "Domyat is known for the very sticky sweet known as moshabbek which gets stuck in your teeth",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "yes",
        "Handshape Iconicity": "Handling",
        "Movement Iconicity": "movement as movement",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=TlUIq2MN_hs",
        "English": "Damietta",
        "Arabic": "\u062f\u0645\u064a\u0627\u0637",
        "Latittude": "31.4165",
        "Longitude": "31.8133",
        "Gloss": "WOODWORKING",
        "Folk Etymology": "Domyat is known producing furniture",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "asymmetrical",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=IPeUJJ0tCZs",
        "English": "Damietta",
        "Arabic": "\u062f\u0645\u064a\u0627\u0637",
        "Latittude": "31.4165",
        "Longitude": "31.8133",
        "Gloss": "FS: M Y",
        "Folk Etymology": "reduction of the full fingerspelling to just two medial letters: meem and yaa",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "Homophonous with some other lexicalized fingerspellings: WHEN, DAY, and TEA",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=e5-WrDO0ri8",
        "English": "Fayyoum",
        "Arabic": "\u0627\u0644\u0641\u064a\u0648\u0645",
        "Latittude": "29.3084",
        "Longitude": "30.8428",
        "Gloss": "WATERFALLS",
        "Folk Etymology": "the manmade waterfalls of Fayyum are a popular attraction",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure, Occupation/Activity, Environment",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "ambiguous (movement as shape and/or movement)",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=AELm2RTeZVU",
        "English": "Al-Menya",
        "Arabic": "\u0627\u0644\u0645\u0646\u064a\u0627",
        "Latittude": "28.0871",
        "Longitude": "30.7618",
        "Gloss": "SUGARCANE",
        "Folk Etymology": "sugarcane is common agricultural product here",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity, Environment",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "yes",
        "Handshape Iconicity": "Handling",
        "Movement Iconicity": "movement as movement",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=EGMSNwqkjIs",
        "English": "Qena",
        "Arabic": "\u0642\u0646\u0627",
        "Latittude": "26.1551",
        "Longitude": "32.716",
        "Gloss": "QENA (fs:  Q N A)",
        "Folk Etymology": "spelled fully using the older manual alphabet",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=0HftTPuWhQA",
        "English": "Qena",
        "Arabic": "\u0642\u0646\u0627",
        "Latittude": "26.1551",
        "Longitude": "32.716",
        "Gloss": "QENA (fs: Q N)",
        "Folk Etymology": "a reduction of the full fingerspelling by deleting the final alif and reducing the number of selected fingers in the initial configuration",
        "Morphological Type": "hybrid compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "",
        "Related to a fingerspelling": "yes",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "N/A",
        "Movement Iconicity": "N/A",
        "Plurality": "N/A"
    },
    {
        "Link": "https://www.youtube.com/watch?v=XTrNyGl8KnA",
        "English": "Souhag",
        "Arabic": "\u0633\u0648\u0647\u0627\u062c",
        "Latittude": "26.5569",
        "Longitude": "31.6948",
        "Gloss": "WHITE^SOUHAG",
        "Folk Etymology": "people in Souhag (and elsewhere in Upper Egypt) wear white jilbabs (gallabiyas)",
        "Morphological Type": "compound",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "movement as shape",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=XTrNyGl8KnA",
        "English": "Souhag",
        "Arabic": "\u0633\u0648\u0647\u0627\u062c",
        "Latittude": "26.5569",
        "Longitude": "31.6948",
        "Gloss": "SOUHAG",
        "Folk Etymology": "people in Souhag (and elsewhere in Upper Egypt) wear white jilbabs (gallabiyas)",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "the initial component of the compound appears to has been deleted in this variant",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "movement as shape",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=VLdnnhir2es",
        "English": "Assiut",
        "Arabic": "\u0623\u0633\u064a\u0648\u0637",
        "Latittude": "27.1801",
        "Longitude": "31.1837",
        "Gloss": "STAMP_NECK",
        "Folk Etymology": "related to a tradition of stamping family names on necks",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Handling",
        "Movement Iconicity": "movement as movement",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=koz_aHiz3fg",
        "English": "Assiut",
        "Arabic": "\u0623\u0633\u064a\u0648\u0637",
        "Latittude": "27.1801",
        "Longitude": "31.1837",
        "Gloss": "SHOOT_GUNS+STAMP_NECK",
        "Folk Etymology": "related to the Upper Egyptian tradition of firing rifles into the air as part of a wedding, related to a tradition of stamping family names on necks",
        "Morphological Type": "compound",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical + one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Ambiguous + Handling",
        "Movement Iconicity": "movement as movement",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=7XYy5p6hHK0",
        "English": "Beni Suef",
        "Arabic": "\u0628\u0646\u064a \u0633\u0648\u064a\u0641",
        "Latittude": "29.0661",
        "Longitude": "31.0994",
        "Gloss": "BENI_SUEF",
        "Folk Etymology": "unknown",
        "Morphological Type": "?",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "?",
        "Food-related": "?",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=rNOJ4My7C88",
        "English": "Luxor",
        "Arabic": "\u0627\u0644\u0623\u0642\u0635\u0631",
        "Latittude": "25.6872",
        "Longitude": "32.6396",
        "Gloss": "PHARAONIC_STATUE",
        "Folk Etymology": "due to the many ancient ruins and museums- iconic of the way ancient statues depict a persons with crossed arms across their chests",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "also the sign in Alexandria for MUSEUM",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Hands as Hands",
        "Movement Iconicity": "N/A",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=Np07JvmzNPQ",
        "English": "Aswan",
        "Arabic": "\u0623\u0633\u0648\u0627\u0646",
        "Latittude": "24.0889",
        "Longitude": "32.8998",
        "Gloss": "HIGH_DAM",
        "Folk Etymology": "because of the Aswan high dam (the way water flows through it)",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as movement",
        "Plurality": "selected fingers + hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=91sRViDf0TI",
        "English": "Suez",
        "Arabic": "\u0627\u0644\u0633\u0648\u064a\u0633",
        "Latittude": "29.9668",
        "Longitude": "32.5498",
        "Gloss": "BOAT",
        "Folk Etymology": "because of the many boats in the Suez Canal",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as movement",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=ohGhctMMaZw",
        "English": "Suez",
        "Arabic": "\u0627\u0644\u0633\u0648\u064a\u0633",
        "Latittude": "29.9668",
        "Longitude": "32.5498",
        "Gloss": "PLURAL_BOAT_CLASSIFIER",
        "Folk Etymology": "because of the many boats in the Suez Canal",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Structure",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as plural",
        "Plurality": "movement"
    },
    {
        "Link": "https://www.youtube.com/watch?v=wQy6jrpBxQM",
        "English": "Port Said",
        "Arabic": "\u0628\u0648\u0631\u0633\u0639\u064a\u062f",
        "Latittude": "31.2653",
        "Longitude": "32.3019",
        "Gloss": "PORT_SAID",
        "Folk Etymology": "unknown",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=j6K7TjTX7nU",
        "English": "Port Said",
        "Arabic": "\u0628\u0648\u0631\u0633\u0639\u064a\u062f",
        "Latittude": "31.2653",
        "Longitude": "32.3019",
        "Gloss": "PORT_SAID",
        "Folk Etymology": "unknown",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=jb-pq4ibb74",
        "English": "Ismailia",
        "Arabic": "\u0627\u0644\u0627\u0633\u0645\u0627\u0639\u064a\u0644\u064a\u0629",
        "Latittude": "30.6043",
        "Longitude": "32.2723",
        "Gloss": "ISMAILIA",
        "Folk Etymology": "may be related to military history",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Occurrent",
        "Semantic Type (Specific)": "Incident",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "movement as shape",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=xJrGWlUkpxI",
        "English": "Ismailia",
        "Arabic": "\u0627\u0644\u0627\u0633\u0645\u0627\u0639\u064a\u0644\u064a\u0629",
        "Latittude": "30.6043",
        "Longitude": "32.2723",
        "Gloss": "FISH",
        "Folk Etymology": "certain fish are exported from Ismailia to elsewhere",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity, Environment",
        "Notes": "considered an older sign in Alexandria",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "no",
        "Food-related": "yes",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as movement",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=pElng561zSk",
        "English": "Desouk",
        "Arabic": "\u062f\u0633\u0648\u0642",
        "Latittude": "31.1341",
        "Longitude": "30.646",
        "Gloss": "HIT_STICKS",
        "Folk Etymology": "practice of hitting sticks/rods together during the local Mawlid",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Occurrent",
        "Semantic Type (Specific)": "Incident",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as movement",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=mwLiF_6YTHg",
        "English": "The Red Sea",
        "Arabic": "\u0627\u0644\u0628\u062d\u0631 \u0627\u0644\u0623\u062d\u0645\u0631",
        "Latittude": "25",
        "Longitude": "34",
        "Gloss": "SEA+RED",
        "Folk Etymology": "calqued from Arabic",
        "Morphological Type": "compound",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical + one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Hands as Hands",
        "Movement Iconicity": "movement as movement + N/A",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=HRJvVni5Bqg",
        "English": "El Arish",
        "Arabic": "\u0627\u0644\u0639\u0631\u064a\u0634",
        "Latittude": "31.1316",
        "Longitude": "33.7984",
        "Gloss": "WARPAINT",
        "Folk Etymology": "related to military activity in the northern Sinai Peninsula",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Hands as Hands",
        "Movement Iconicity": "ambiguous (movement as shape and/or movement)",
        "Plurality": "selected fingers"
    },
    {
        "Link": "https://www.youtube.com/watch?v=IUBurZGE8nk",
        "English": "El Arish",
        "Arabic": "\u0627\u0644\u0639\u0631\u064a\u0634",
        "Latittude": "31.1316",
        "Longitude": "33.7984",
        "Gloss": "ARISH",
        "Folk Etymology": "unknown",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=mqSH6iomLhM",
        "English": "Sharm El Sheikh",
        "Arabic": "\u0634\u0631\u0645 \u0627\u0644\u0634\u064a\u062e",
        "Latittude": "27.9158",
        "Longitude": "34.3299",
        "Gloss": "BREATHING_TUBE",
        "Folk Etymology": "the breathing tube of snorkeling gear",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "known as a tourist destination",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "N/A",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=M4D4baPenBc",
        "English": "Dahab",
        "Arabic": "\u062f\u0647\u0628",
        "Latittude": "28.5",
        "Longitude": "34.5167",
        "Gloss": "GOLD",
        "Folk Etymology": "calqued from Arabic",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Copied",
        "Semantic Type (Specific)": "Linguistic",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "indexical",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=xIYkDD4vZh4",
        "English": "Hurghada",
        "Arabic": "\u0627\u0644\u063a\u0631\u062f\u0642\u0629",
        "Latittude": "27.2579",
        "Longitude": "33.8116",
        "Gloss": "SCUBA_GEAR",
        "Folk Etymology": "related to scuba gear",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "yes",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "?",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=lBxhoI7pGtI",
        "English": "New Valley",
        "Arabic": "\u0627\u0644\u0648\u0627\u062f\u064a \u0627\u0644\u062c\u062f\u064a\u062f",
        "Latittude": "25.4411",
        "Longitude": "30.546",
        "Gloss": "NEW_VALLEY",
        "Folk Etymology": "unknown",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "?",
        "Semantic Type (Specific)": "?",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "?",
        "Food-related": "no",
        "Handshape Iconicity": "?",
        "Movement Iconicity": "?",
        "Plurality": "?"
    },
    {
        "Link": "https://www.youtube.com/watch?v=_c_yYJ34ba8",
        "English": "Siwa",
        "Arabic": "\u0633\u064a\u0648\u0629",
        "Latittude": "29.2032",
        "Longitude": "25.5195",
        "Gloss": "DATE",
        "Folk Etymology": "Siwa is known for it production of dates",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity, Environment",
        "Notes": "phonological variant local to Siwi signing variety is performed rubbing against the teeth of a slightly open mouth",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "yes",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "indexical",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=-1kq-PG542E",
        "English": "Sinai",
        "Arabic": "\u0633\u064a\u0646\u0627\u0621",
        "Latittude": "29.5073",
        "Longitude": "34.5277",
        "Gloss": "TWO_LANDMASSES_MEET",
        "Folk Etymology": "related to the shape of the peninsula on the map",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Descriptive",
        "Semantic Type (Specific)": "topographic, locational",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "symmetrical",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "indexical",
        "Plurality": "hands"
    },
    {
        "Link": "https://www.youtube.com/watch?v=aJO0IXCBnB0",
        "English": "Sinai",
        "Arabic": "\u0633\u064a\u0646\u0627\u0621",
        "Latittude": "29.5073",
        "Longitude": "34.5277",
        "Gloss": "FLANKED_BY_TWO_STREAMS",
        "Folk Etymology": "related to the shape of the peninsula on the map",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Descriptive",
        "Semantic Type (Specific)": "topographic, locational",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "no",
        "Food-related": "no",
        "Handshape Iconicity": "Object",
        "Movement Iconicity": "movement as shape",
        "Plurality": "selected fingers"
    },
    {
        "Link": "https://www.youtube.com/watch?v=Q7r9QtFZdD0",
        "English": "Nag Hammadi",
        "Arabic": "\u0646\u062c\u0639 \u062d\u0645\u0627\u062f\u064a",
        "Latittude": "26.0452",
        "Longitude": "32.2428",
        "Gloss": "SUGARCANE2",
        "Folk Etymology": "sugarcane is a common agricultural product here",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity",
        "Notes": "not homophonous with Al-Minya, despite also being related to sugarcane",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "yes",
        "Handshape Iconicity": "Handling",
        "Movement Iconicity": "movement as movement",
        "Plurality": "none"
    },
    {
        "Link": "https://www.youtube.com/watch?v=B6ygADoP8bM",
        "English": "Dishna",
        "Arabic": "\u062f\u0634\u0646\u0627",
        "Latittude": "26.1259",
        "Longitude": "32.4716",
        "Gloss": "DOUM",
        "Folk Etymology": "the doum fruit is a common agricultural product here and elsewhere in Upper Egypt",
        "Morphological Type": "simplex",
        "Semantic Type (Major)": "Associative",
        "Semantic Type (Specific)": "Occupation/Activity, Environment",
        "Notes": "",
        "Related to a fingerspelling": "no",
        "Phonological Type": "one-handed",
        "Body-Indexical": "yes",
        "Food-related": "yes",
        "Handshape Iconicity": "Ambiguous",
        "Movement Iconicity": "N/A",
        "Plurality": "none"
    }
];

/* ===========================
   Utilities & parsing
=========================== */
const PALETTE = [
  "#1f78b4","#33a02c","#e31a1c","#ff7f00","#6a3d9a","#b15928","#8da0cb",
  "#fb9a99","#fdbf6f","#cab2d6","#ffff99","#a6cee3","#b2df8a","#fb9a99",
  "#e78ac3","#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"
];

function safe(v){
  if (v === undefined || v === null) return "N/A";
  const s = String(v).trim();
  return s === "" ? "N/A" : s;
}

function parseCategories(value){
  if(!value || value === "N/A") return ["N/A"];

  const raw = String(value).trim();

  // Special values — DO NOT split them
  if(raw === "?" || raw.toUpperCase() === "N/A") return ["N/A"];

  // Now we safely split the multi-valued types
  return raw.split(/[,\+]/)
    .map(v => v.trim())
    .filter(v => v)
    .map(v => {
      const low = v.toLowerCase();
      if(low === "enviroment") return "Environment";
      if(low === "topographic") return "Topographic";
      if(low === "locational") return "Locational";
      if(low === "?") return "N/A";
      if(low === "n") return "N/A";   // catches accidental "N"
      if(low === "a") return "N/A";   // catches accidental "A"
      return v;
    });
}

/* ===========================
   Color maps
=========================== */
const colorMaps = {
  // semantic_major:{
  //   "Descriptive":"#1f78b4","Associative":"#33a02c","Occurrent":"#6a3d9a","Copied":"#e31a1c","Eponymous":"#17a2a6","N/A":"gray"
  // },
  // semantic_minor:{
  //   "Relational":"#3182bd","Structure":"#756bb1","Functional":"#31a354",
  //   "Occupation/Activity":"#ff7f00","Environment":"#b15928","Linguistic":"#1f78b4",
  //   "Topographic":"#6a3d9a","Locational":"#33a02c","Notable Person":"#e31a1c",
  //   "Occasion":"#fdb462","N/A":"gray"
  // },
  // morphology:{
  //   "simplex":"#4daf4a","compound":"#984ea3","hybrid":"#377eb8","hybrid compound":"#377eb8","N/A":"gray"
  // },
  // fingerspelling:{ "yes":"#e41a1c","no":"#377eb8","N/A":"gray" },
  // phonology:{
  //   "one-handed":"#8dd3c7","symmetrical":"#ffffb3","asymmetrical":"#bebada",
  //   "one-handed + symmetrical":"#fb8072","symmetrical + asymmetrical":"#80b1d3","N/A":"gray","?":"gray"
  // },
  // body_indexical:{
  //   "yes":"#fdb462","no":"#b3de69","?":"#fccde5","N/A":"gray"
  // },
  // food:{
  //   "yes":"#e78ac3","no":"#a6cee3","N/A":"gray"
  // },
  // handshape:{
  //   "Object":"#66c2a5","Indexical":"#fc8d62","Handling":"#8da0cb","Hands as Hands":"#e5c494","Object + Hands as Hands":"#b3b3b3","Ambiguous":"#fb9a99","N/A":"gray"
  // },
  // movementIcon:{
  //   "Movement-as-Shape":"#8dd3c7","Movement-as-Movement":"#ffffb3","Movement-as-Plural":"#bebada","Ambiguous":"#fb8072","None":"#ccebc5","N/A":"gray"
  // },
  // plurality:{
  //   "Hands":"#1f78b4","Movement":"#33a02c","Selected Fingers":"#e31a1c","None":"#999999","N/A":"gray"
  // }
};

function ensureColorFor(mode, key){
  if(!colorMaps[mode]) colorMaps[mode] = {};
  if(colorMaps[mode][key]) return colorMaps[mode][key];
  const used = new Set(Object.values(colorMaps[mode]));
  const pick = PALETTE.find(c => !used.has(c)) || PALETTE[0];
  colorMaps[mode][key] = pick;
  return pick;
}

/* ===========================
   Pie marker SVG
=========================== */
function drawPieSVG(colors,size){
  const r=size/2;
  let angle=-Math.PI/2;
  let svg = `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">`;
  const seg = colors.length;
  for(let i=0;i<seg;i++){
    const start = angle;
    const end = angle + (2*Math.PI/seg);
    const x1 = r + r * Math.cos(start);
    const y1 = r + r * Math.sin(start);
    const x2 = r + r * Math.cos(end);
    const y2 = r + r * Math.sin(end);
    const largeArc = (end-start) > Math.PI ? 1 : 0;
    svg += `<path d="M ${r} ${r} L ${x1} ${y1} A ${r} ${r} 0 ${largeArc} 1 ${x2} ${y2} Z" fill="${colors[i]}" stroke="#222" stroke-opacity="0.06" stroke-width="0.4"/>`;
    angle = end;
  }
  svg += `</svg>`;
  return svg;
}
function pieMarker(lat,lng,colors,size=30){
  const svg = drawPieSVG(colors,size);
  return L.marker([lat,lng], { icon: L.divIcon({ html: svg, className: '', iconSize: [size,size], iconAnchor:[size/2,size/2] }) });
}

/* ===========================
   Map & Rendering
=========================== */
const map = L.map('map').setView([26.8,30.8],6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
let markerLayer = L.layerGroup().addTo(map);

function groupByPlace(rows){
  const g = {};
  rows.forEach(r=>{
    const key = safe(r.English);
    if(!g[key]) g[key] = [];
    g[key].push(r);
  });
  return g;
}

function getValsForMode(rows, mode){
  const all = [];
  rows.forEach(r=>{
    let raw = "N/A";
    if(mode === 'semantic_major') raw = safe(r["Semantic Type (Major)"]);
    else if(mode === 'semantic_minor') raw = safe(r["Semantic Type (Specific)"]);
    else if(mode === 'morphology') raw = safe(r["Morphological Type"]);
    else if(mode === 'fingerspelling') raw = safe(r["Related to a fingerspelling"]);
    else if(mode === 'phonology') raw = safe(r["Phonological Type"]);
    else if(mode === 'body_indexical') raw = safe(r["Body-Indexical"]);
    else if(mode === 'food') raw = safe(r["Food-related"]);
    else if(mode === 'handshape') raw = safe(r["Handshape Iconicity"]);
    else if(mode === 'movementIcon') raw = safe(r["Movement Iconicity"]);
    else if(mode === 'plurality') raw = safe(r["Plurality"]);
    if(['semantic_major','semantic_minor','phonology','handshape','movementIcon','plurality'].includes(mode)){
      const parts = parseCategories(raw);
      parts.forEach(p => all.push(p));
    } else {
      all.push(raw);
    }
  });
  return all.length ? all : ["N/A"];
}

function updateLegend(mode){
  const lg = document.getElementById('legend');
  const cmap = colorMaps[mode] || {};
  let html = `<strong>Legend — ${mode.replace(/_/g,' ')}</strong><br/>`;
  Object.keys(cmap).forEach(k => {
    html += `<div class="legend-entry"><span style="background:${cmap[k]}"></span>${k}</div>`;
  });
  lg.innerHTML = html;
}

function render(mode='semantic_major'){
  markerLayer.clearLayers();
  const groups = groupByPlace(data);

  for(const place in groups){
    const rows = groups[place];
    const rowWithCoords = rows.find(r=> r.Latittude !== undefined && r.Latittude !== null && !isNaN(Number(r.Latittude)));
    if(!rowWithCoords) continue;
    const lat = Number(rowWithCoords.Latittude);
    const lng = Number(rowWithCoords.Longitude);
    if(isNaN(lat) || isNaN(lng)) continue;

    const vals = getValsForMode(rows, mode).map(v => v);
    const unique = Array.from(new Set(vals));

    const colors = unique.map(k => {
      if(!colorMaps[mode] || colorMaps[mode][k] === undefined) {
        return ensureColorFor(mode, k);
      }
      return colorMaps[mode][k];
    });

    let marker;
    if(unique.length > 1){
      marker = pieMarker(lat, lng, colors, 30);
    } else {
      const key = unique[0] || "N/A";
      const fill = (colorMaps[mode] && colorMaps[mode][key]) ? colorMaps[mode][key] : ensureColorFor(mode, key);
      marker = L.circleMarker([lat,lng], { radius: 8, color: fill, fillColor: fill, fillOpacity: 0.95, weight: 1 });
    }

    let popup = `<div class="popup-scroll">`;
    rows.forEach(r=>{
      const url = safe(r.Link);
      const hasVid = url !== "N/A" && url.toLowerCase().includes("youtube");
      popup += `<div class="sign-entry">`;
      if(hasVid) {
        popup += `<iframe src="${url.replace('watch?v=','embed/')}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
      }
      popup += `<strong>Gloss:</strong> ${safe(r.Gloss)}<br/>`;
      popup += `<strong>Folk etymology:</strong> ${safe(r["Folk Etymology"])}<br/>`;
      popup += `<strong>Semantic Type Major:</strong> ${safe(r["Semantic Type (Major)"])}<br/>`;
      popup += `<strong>Semantic Type Minor:</strong> ${safe(r["Semantic Type (Specific)"])}<br/>`;
      popup += `<strong>Morphological Type:</strong> ${safe(r["Morphological Type"])}<br/>`;
      popup += `<strong>Fingerspelling:</strong> ${safe(r["Related to a fingerspelling"])}<br/>`;
      popup += `<strong>Phonological Type:</strong> ${safe(r["Phonological Type"])}<br/>`;
      popup += `<strong>Body-Indexical:</strong> ${safe(r["Body-Indexical"])}<br/>`;
      popup += `<strong>Food-related:</strong> ${safe(r["Food-related"])}<br/>`;
      popup += `<strong>Handshape Iconicity:</strong> ${safe(r["Handshape Iconicity"])}<br/>`;
      popup += `<strong>Movement Iconicity:</strong> ${safe(r["Movement Iconicity"])}<br/>`;
      popup += `<strong>Plurality:</strong> ${safe(r["Plurality"])}<br/>`;
      if(safe(r.Notes) !== "N/A") popup += `<strong>Notes:</strong> ${safe(r.Notes)}<br/>`;
      popup += `</div>`;
    });
    popup += `</div>`;

    marker.bindPopup(`<h3>${place}</h3>` + popup);
    marker.addTo(markerLayer);
  }

  updateLegend(mode);
}

/* ===========================
   UI: radio buttons + editable multi-line info panel
   Your provided infoStore is embedded exactly as given.
=========================== */
const MODES = [
  { id: 'semantic_major', label: 'Semantic Major' },
  { id: 'semantic_minor', label: 'Semantic Minor' },
  { id: 'morphology', label: 'Morphology' },
  { id: 'fingerspelling', label: 'Fingerspelling' },
  { id: 'phonology', label: 'Phonological Type' },
  { id: 'body_indexical', label: 'Body-Indexical' },
  { id: 'food', label: 'Food-related' },
  { id: 'handshape', label: 'Handshape Iconicity' },
  { id: 'movementIcon', label: 'Movement Iconicity' },
  { id: 'plurality', label: 'Plurality' }
];

const radioList = document.getElementById('radioList');
const infoModeSelect = document.getElementById('infoModeSelect');
const infoEditArea = document.getElementById('infoEditArea');
const infoTitle = document.getElementById('infoTitle');
const toggleInfoBtn = document.getElementById('toggleInfo');
const resetInfoBtn = document.getElementById('resetInfo');

const infoStore = {
  semantic_major: "Major categories from Blair, D., & Tent, J. (2021). A revised typology of place-naming. Names, 69(4), 31-47.\n Descriptive:  Using a name denoting an inherent characteristic of the feature \n Associative: Using a name denoting something associated with the feature or its context\n Occurrent: Using a name recording an event, incident, occasion or date when the feature was named\n Copied: Copying the name-form from another place or from another language\n Eponymous: Using the name of a person or other named entity by using a proper name, title, or eponym substitute as a toponym",
  semantic_minor: "Subcategories of major semantic categories from Blair, D., & Tent, J. (2021). A revised typology of place-naming. Names, 69(4), 31-47.",
  morphology: "Four-way morphological typology based on De Sousa, A. M., & De Quadros, R. M. (2021). Toponymy in libras (Brazilian sign language): Formal and semantic-motivational analysis of the signs that name the cities of acre. Sign Language Studies, 22(1), 75-105.\n Simplex: a single lexeme forms the toponym\n Compound: multiple lexemes form the toponym\n Hybrid: toponym simultaneous includes a formant from the spoken language",
  fingerspelling: "Yes/No — whether the sign uses letters from the manual alphabet, including lexicalized reductions of fingerspellings.",
  phonology: "Basic phonological type: one-handed, two handed with symmetrical articulators, or two-handed with asymmetrical articulators",
  body_indexical: "Yes/No — whether the sign indexes a body part.",
  food: "Yes/No — whether the toponym is food-related.",
  handshape: "Object: the handshape configuration resembles an object\n Handling: the handshape represents the way a person holds an object\n Hands-as-Hands: the hands represent the way one actually uses ones hands\n Indexical: technically not a type of iconicity, the hand is merely used to index something",
  movementIcon: "Movement-as-Shape: the movement of the articulators traces the shape of a represented object\n Movement-as-Movement: the movement of the articulators represents the way an object is displaced in space over time\n Movement-as-Plural: the movement of the articulators represents multiple objects\n Indexical: the movement is not iconic and only to draw attention to the articulator itself\n None: there is no movement or only epenthetic movement",
  plurality: "Plurality can be represented simultaneously by the configuration of the articulators. \n Hands: the handedness represents multiple entities or parts of an entities\n Selected fingers: the fingers used on the active articulator represent multiple entities or parts of an entity (e.g. the legs of animals in ZAQAZIQ)\n Movement: the movement of the articulators represents multiple entities displaced in space"
};

// populate radios and info select
function buildUI(){
  radioList.innerHTML = "";
  infoModeSelect.innerHTML = "";
  MODES.forEach((m, idx) => {
    const div = document.createElement('div');
    div.className = 'radio-item';
    const input = document.createElement('input');
    input.type = 'radio';
    input.name = 'colorMode';
    input.id = 'r_' + m.id;
    input.value = m.id;
    input.checked = idx === 0;
    input.addEventListener('change', () => {
      render(m.id);
      infoTitle.textContent = `Category Info — ${m.label}`;
      infoEditArea.textContent = infoStore[m.id] || "";
      infoModeSelect.value = m.id;
    });
    const label = document.createElement('label');
    label.htmlFor = input.id;
    label.textContent = m.label;
    div.appendChild(input);
    div.appendChild(label);
    radioList.appendChild(div);

    const opt = document.createElement('option');
    opt.value = m.id;
    opt.textContent = m.label;
    infoModeSelect.appendChild(opt);
  });

  // initial selection
  infoModeSelect.value = MODES[0].id;
  infoEditArea.textContent = infoStore[MODES[0].id] || "";
  infoTitle.textContent = `Category Info — ${MODES[0].label}`;
}
buildUI();

// toggle info panel
let infoVisible = true;
toggleInfoBtn.addEventListener('click', ()=>{
  infoVisible = !infoVisible;
  document.getElementById('infoPanel').style.display = infoVisible ? 'block' : 'none';
  toggleInfoBtn.textContent = infoVisible ? 'Hide info' : 'Show info';
});

// change info panel mode using select
infoModeSelect.addEventListener('change', (e)=>{
  const id = e.target.value;
  const mode = MODES.find(m => m.id === id);
  infoTitle.textContent = `Category Info — ${mode.label}`;
  infoEditArea.textContent = infoStore[id] || "";
});

// save edited info on input (in-page only)
infoEditArea.addEventListener('input', (e)=>{
  const id = infoModeSelect.value;
  infoStore[id] = e.target.innerText;
});

// reset info placeholder for current mode
resetInfoBtn.addEventListener('click', ()=>{
  const id = infoModeSelect.value;
  infoEditArea.textContent = infoStore[id] || "";
});

// fit button
document.getElementById('fitBtn').addEventListener('click', fitMapToMarkers);

/* ===========================
   Initial render & hook
=========================== */
render('semantic_major');
function fitMapToMarkers(){
  const layers = markerLayer.getLayers();
  if(!layers.length) return;
  const group = L.featureGroup(layers);
  map.fitBounds(group.getBounds().pad(0.12));
}
</script>
</body>
</html>
